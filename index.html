<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Your Zodiac Ritual ‚Äî RitualNet</title>
<!-- Basic social meta (edit as needed) -->
<meta name="description" content="Reveal your Zodiac Ritual ‚Äî a RitualNet card that feels dark, tactile, and share-ready." />
<!-- Styles -->
<style>
  :root{
    --bg:#060608;
    --panel:#0f0f12;
    --accent:#b51c1c;
    --gold:#cfa46b;
    --muted:#8a8a8a;
    --glass: rgba(255,255,255,0.03);
    --card-w: 420px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: radial-gradient(1200px 600px at 10% 10%, rgba(181,28,28,0.06), transparent 10%),
                radial-gradient(800px 400px at 90% 90%, rgba(207,164,107,0.03), transparent 10%),
                var(--bg);
    color:#eee;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:28px;
  }

  .stage{
    width:100%;
    max-width:1100px;
    display:grid;
    grid-template-columns: 360px 1fr;
    gap:28px;
    align-items:start;
  }

  /* Left panel: controls + preview */
  .panel{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:18px;
    padding:18px;
    box-shadow: 0 6px 30px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
  }

  h1{
    margin:6px 0 12px;
    font-family: "Georgia", "Times New Roman", serif;
    font-weight:600;
    letter-spacing:0.4px;
    color:var(--gold);
    font-size:20px;
  }
  p.lead{color:var(--muted); margin:0 0 14px; font-size:13px}

  .sign-grid{
    display:grid;
    grid-template-columns: repeat(4, 1fr);
    gap:8px;
    margin:10px 0 14px;
  }
  .sign-btn{
    background:var(--glass);
    border-radius:10px;
    padding:10px;
    text-align:center;
    cursor:pointer;
    border:1px solid rgba(255,255,255,0.03);
    user-select:none;
    transition:transform .14s ease, box-shadow .14s ease;
    font-size:14px;
    color:#fff;
  }
  .sign-btn:hover{ transform:translateY(-4px); box-shadow:0 10px 30px rgba(0,0,0,0.6) }
  .sign-btn.active{ outline:2px solid rgba(181,28,28,0.25); background: linear-gradient(180deg, rgba(181,28,28,0.06), transparent) }

  .controls{ display:flex; gap:8px; margin-top:12px; flex-wrap:wrap }
  .btn{
    background:transparent;
    border:1px solid rgba(255,255,255,0.06);
    padding:10px 12px;
    border-radius:10px;
    color:#fff;
    cursor:pointer;
    font-weight:600;
    font-size:13px;
  }
  .btn.primary{ background: linear-gradient(90deg, rgba(181,28,28,0.9), rgba(207,164,107,0.08)); border:none; color:#080808 }
  .small{font-size:12px; padding:8px 10px}

  /* Right panel: big preview area */
  .preview-wrap{
    display:flex;
    align-items:center;
    justify-content:center;
    min-height:520px;
  }

  .card-outer{
    width:var(--card-w);
    max-width:100%;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:16px;
    padding:20px;
    border:1px solid rgba(255,255,255,0.04);
    box-shadow: 0 20px 50px rgba(0,0,0,0.7);
    transform-origin:center center;
  }

  .sigil{
    width:74px;
    height:74px;
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.03);
    font-family: "Georgia", serif;
    font-size:34px;
    color:var(--gold);
    margin-bottom:12px;
    filter: drop-shadow(0 6px 16px rgba(181,28,28,0.06));
  }

  .title{
    font-family: "Georgia", serif;
    font-size:20px;
    color:var(--gold);
    margin:0 0 6px;
    letter-spacing:0.3px;
  }
  .tagline{ color:var(--muted); margin:0 0 12px; font-size:13px }

  .flavor{
    background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.01));
    padding:12px;
    border-radius:10px;
    font-size:14px;
    line-height:1.38;
    color:#e9e9e9;
    min-height:92px;
  }

  .mini{ margin-top:12px; color:var(--muted); font-size:13px }

  .meta{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-top:14px;
    gap:8px;
  }
  .meter{
    font-weight:700;
    color:var(--accent);
    letter-spacing:0.6px;
  }
  .archive{
    font-size:12px;
    color:var(--muted);
  }

  /* reveal animation */
  .hidden{ opacity:0; transform: scale(.96) translateY(8px); }
  .reveal{
    animation:revealCard .62s cubic-bezier(.22,.9,.28,1) forwards;
  }
  @keyframes revealCard{
    0%{ opacity:0; transform:scale(.92) translateY(18px) rotate(-6deg) }
    60%{ transform:scale(1.02) translateY(-6px) rotate(2deg) ; opacity:1 }
    100%{ transform:scale(1) translateY(0) rotate(0) ; opacity:1 }
  }

  .note{color:var(--muted); font-size:12px; margin-top:12px;}
  .footer{ margin-top:14px; color:var(--muted); font-size:12px }

  /* small screens */
  @media (max-width:920px){
    .stage{ grid-template-columns:1fr; }
    .preview-wrap{ margin-top:10px }
  }
</style>
</head>
<body>

<div class="stage">

  <!-- left panel -->
  <div class="panel">
    <h1>Your Zodiac Ritual</h1>
    <p class="lead">No wallet. No accounts. Pick your sign ‚Äî reveal a dark ritual card styled for RitualNet. Export or share instantly.</p>

    <div class="sign-grid" id="signGrid" aria-hidden="false">
      <!-- generated buttons -->
    </div>

    <div style="display:flex; gap:10px; align-items:center; margin-top:6px;">
      <select id="manualSelect" class="btn small" style="background:transparent; border:1px solid rgba(255,255,255,0.04); color:#fff">
        <option value="">‚Äî or choose from dropdown ‚Äî</option>
      </select>

      <button id="revealBtn" class="btn primary">Reveal My Ritual üîÆ</button>
    </div>

    <div class="controls" style="margin-top:14px;">
      <button id="copyTweetBtn" class="btn small">Copy tweet text</button>
      <button id="shareXBtn" class="btn small">Share to X</button>
      <button id="exportBtn" class="btn small">Export card image</button>
    </div>

    <div class="note">Tip: Encourage people to collect all 12 cards ‚Äî each share includes a unique Archive #.</div>
    <div class="footer">Made for RitualNet ‚Ä¢ Customize copy & style freely</div>
  </div>

  <!-- preview -->
  <div class="preview-wrap">
    <div id="card" class="card-outer hidden" role="article" aria-live="polite">
      <div class="sigil" id="cardSigil">‚ôè</div>
      <div style="display:flex; justify-content:space-between; gap:10px; align-items:flex-start;">
        <div style="flex:1;">
          <div class="title" id="cardTitle">The Shadow Ritual</div>
          <div class="tagline" id="cardTagline">Power forged under the surface.</div>
        </div>
      </div>
      <div class="flavor" id="cardFlavor">You transmute what others discard. Your ritual is quiet, precise, and irreversible ‚Äî you turn hidden things into gravitas. Intensity is your language.</div>

      <div class="mini" id="cardMini"><strong>Mini-ritual:</strong> Breathe in the dark; exhale a secret.</div>

      <div class="meta">
        <div class="meter" id="cardEnergy">Energy: 87%</div>
        <div class="archive" id="cardArchive">Archive #3182</div>
      </div>
    </div>
  </div>

</div>

<!-- html2canvas (optional for image export) -->
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

<script>
/* ---------------------------
   Rituals data (all 12)
   --------------------------- */
const rituals = {
  aries: {
    key: "aries", name: "Aries", glyph: "‚ôà",
    title: "The First Flame",
    tagline: "You spark the world aflame.",
    flavor: "You move before the world asks permission. Your ritual is a quick, burning oath ‚Äî strike once, burn bright, and do not apologize. Courage is your altar.",
    mini: "Clap once and whisper your next move.",
    tweet: "My Zodiac Ritual: The First Flame ‚ôà ‚Äî I burn first, then ask. @Ritual_Net"
  },
  taurus: {
    key: "taurus", name: "Taurus", glyph: "‚ôâ",
    title: "The Grounding",
    tagline: "Roots deeper than rumor.",
    flavor: "You shape reality by staying. Your ritual is slow and steady: a deep breath held until the world conforms. Persistence is carved in stone.",
    mini: "Plant your palm on a surface and breathe four counts.",
    tweet: "My Zodiac Ritual: The Grounding ‚ôâ ‚Äî I endure, I shape. @Ritual_Net"
  },
  gemini: {
    key: "gemini", name: "Gemini", glyph: "‚ôä",
    title: "The Split Signal",
    tagline: "Two frequencies, one pulse.",
    flavor: "You are a twin broadcast ‚Äî restless, witty, and electric. Your ritual is a whispered exchange with yourself, a secret you tell twice in different voices. Flexibility is your charm.",
    mini: "Say your name forwards, then backwards.",
    tweet: "My Zodiac Ritual: The Split Signal ‚ôä ‚Äî I speak in echoes. @Ritual_Net"
  },
  cancer: {
    key: "cancer", name: "Cancer", glyph: "‚ôã",
    title: "The Shell of Echoes",
    tagline: "Secrets held like keepsakes.",
    flavor: "You carry oceans beneath a calm surface. Your ritual is an inward tide ‚Äî listen to the echoes that return when you whisper. Emotions are maps, not weaknesses.",
    mini: "Press a fingertip to your chest and hum.",
    tweet: "My Zodiac Ritual: The Shell of Echoes ‚ôã ‚Äî The tide answers me. @Ritual_Net"
  },
  leo: {
    key: "leo", name: "Leo", glyph: "‚ôå",
    title: "The Golden Rite",
    tagline: "Light is your language.",
    flavor: "You take center, not by demand but by gravity. Your ritual is a performed vow ‚Äî stand, make a small gesture for the room, and collect the light like coin. Pride is a tool.",
    mini: "Lift your chin; smile for three slow counts.",
    tweet: "My Zodiac Ritual: The Golden Rite ‚ôå ‚Äî I gather light. @Ritual_Net"
  },
  virgo: {
    key: "virgo", name: "Virgo", glyph: "‚ôç",
    title: "The Precision",
    tagline: "Order as devotion.",
    flavor: "You consecrate through craft. Your ritual is a tidy motion repeated until it becomes law ‚Äî small corrections, great results. Discipline is devotion.",
    mini: "Tuck a small note away for tomorrow.",
    tweet: "My Zodiac Ritual: The Precision ‚ôç ‚Äî I perfect the silence. @Ritual_Net"
  },
  libra: {
    key: "libra", name: "Libra", glyph: "‚ôé",
    title: "The Balance",
    tagline: "Harmony made visible.",
    flavor: "You weigh the chaos and make symmetry. Your ritual is a choice between two equal sins ‚Äî choose the kinder one, then set it as a standard. Equilibrium is your offering.",
    mini: "Close your eyes; name one thing you‚Äôll balance today.",
    tweet: "My Zodiac Ritual: The Balance ‚ôé ‚Äî I hold the scales. @Ritual_Net"
  },
  scorpio: {
    key: "scorpio", name: "Scorpio", glyph: "‚ôè",
    title: "The Shadow Ritual",
    tagline: "Power forged under the surface.",
    flavor: "You transmute what others discard. Your ritual is quiet, precise, and irreversible ‚Äî you turn hidden things into gravitas. Intensity is your language.",
    mini: "Breathe in the dark; exhale a secret.",
    tweet: "My Zodiac Ritual: The Shadow Ritual ‚ôè ‚Äî I turn silence into signal. @Ritual_Net"
  },
  sagittarius: {
    key: "sagittarius", name: "Sagittarius", glyph: "‚ôê",
    title: "The Arrow Path",
    tagline: "Horizons pull at your bones.",
    flavor: "You vow to chase what others forget to name. Your ritual is a promise whispered into the wind ‚Äî mapless motion guided by hunger. Curiosity is your creed.",
    mini: "Point to a distant spot and name one goal.",
    tweet: "My Zodiac Ritual: The Arrow Path ‚ôê ‚Äî I chase the unlabeled horizon. @Ritual_Net"
  },
  capricorn: {
    key: "capricorn", name: "Capricorn", glyph: "‚ôë",
    title: "The Summit",
    tagline: "Climb until the ground looks small.",
    flavor: "You worship at the altar of ascent. Your ritual is a notch on a map ‚Äî one slow, steady step that compounds into summit. Ambition is your sacrament.",
    mini: "Make a small, measurable promise for the week.",
    tweet: "My Zodiac Ritual: The Summit ‚ôë ‚Äî I climb, quietly relentless. @Ritual_Net"
  },
  aquarius: {
    key: "aquarius", name: "Aquarius", glyph: "‚ôí",
    title: "The Signal",
    tagline: "You transmit what no one else decodes.",
    flavor: "You are the antenna for future noise. Your ritual is a deliberate oddity ‚Äî you do one strange thing to shift the pattern. Innovation is your altar.",
    mini: "Share one idea with a stranger (online or off).",
    tweet: "My Zodiac Ritual: The Signal ‚ôí ‚Äî I send what‚Äôs next. @Ritual_Net"
  },
  pisces: {
    key: "pisces", name: "Pisces", glyph: "‚ôì",
    title: "The Dreaming",
    tagline: "Borders blur; meaning flows.",
    flavor: "You drift between the seen and the born. Your ritual is a surrender to image and intuition ‚Äî dream, then leave a token to remember. Imagination is your geography.",
    mini: "Draw one tiny shape on your palm.",
    tweet: "My Zodiac Ritual: The Dreaming ‚ôì ‚Äî I cross the soft places. @Ritual_Net"
  }
};

/* ---------------------------
   DOM refs & helpers
   --------------------------- */
const signGrid = document.getElementById('signGrid');
const manualSelect = document.getElementById('manualSelect');
const revealBtn = document.getElementById('revealBtn');
const cardEl = document.getElementById('card');
const cardSigil = document.getElementById('cardSigil');
const cardTitle = document.getElementById('cardTitle');
const cardTagline = document.getElementById('cardTagline');
const cardFlavor = document.getElementById('cardFlavor');
const cardMini = document.getElementById('cardMini');
const cardEnergy = document.getElementById('cardEnergy');
const cardArchive = document.getElementById('cardArchive');
const copyTweetBtn = document.getElementById('copyTweetBtn');
const shareXBtn = document.getElementById('shareXBtn');
const exportBtn = document.getElementById('exportBtn');

let currentKey = null;

/* Populate sign buttons + dropdown */
Object.values(rituals).forEach(r=>{
  const btn = document.createElement('button');
  btn.className = 'sign-btn';
  btn.type = 'button';
  btn.innerHTML = `<div style="font-size:16px;margin-bottom:6px">${r.glyph}</div><div style="font-size:12px">${r.name}</div>`;
  btn.dataset.key = r.key;
  btn.addEventListener('click', ()=> {
    // mark active
    document.querySelectorAll('.sign-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    manualSelect.value = r.key;
    currentKey = r.key;
  });
  signGrid.appendChild(btn);

  const opt = document.createElement('option');
  opt.value = r.key;
  opt.textContent = r.name + ' ' + r.glyph;
  manualSelect.appendChild(opt);
});

/* reveal logic */
function randomEnergy(){ return Math.floor(Math.random()*22)+78 } // 78-99
function randomArchive(){ return Math.floor(Math.random()*9000)+1000 } // 1000-9999

function showCard(key){
  const r = rituals[key];
  if(!r) return;
  // set fields
  cardSigil.textContent = r.glyph;
  cardTitle.textContent = r.title;
  cardTagline.textContent = r.tagline;
  cardFlavor.textContent = r.flavor;
  cardMini.innerHTML = `<strong>Mini-ritual:</strong> ${r.mini}`;
  cardEnergy.textContent = `Energy: ${randomEnergy()}%`;
  cardArchive.textContent = `Archive #${randomArchive()}`;
  currentKey = key;

  // play reveal animation
  cardEl.classList.remove('hidden');
  cardEl.classList.remove('reveal');
  // force reflow
  void cardEl.offsetWidth;
  cardEl.classList.add('reveal');
}

/* button handlers */
revealBtn.addEventListener('click', ()=>{
  const selection = currentKey || manualSelect.value;
  if(!selection){
    // small UX nudge: briefly flicker the grid
    signGrid.animate([{opacity:1},{opacity:.6},{opacity:1}], {duration:420});
    return;
  }
  showCard(selection);
});

// sync dropdown selection with buttons
manualSelect.addEventListener('change', ()=>{
  const key = manualSelect.value;
  if(!key) return;
  document.querySelectorAll('.sign-btn').forEach(b=>b.classList.remove('active'));
  const btn = document.querySelector(`.sign-btn[data-key="${key}"]`);
  if(btn) btn.classList.add('active');
  currentKey = key;
});

/* tweet / share */
function getTweetText(){
  if(!currentKey) return "I revealed my Zodiac Ritual on RitualNet ‚Äî find yours: @Ritual_Net";
  return rituals[currentKey].tweet;
}

copyTweetBtn.addEventListener('click', async ()=>{
  const txt = getTweetText();
  try{
    await navigator.clipboard.writeText(txt);
    copyTweetBtn.textContent = "Copied ‚úì";
    setTimeout(()=> copyTweetBtn.textContent = "Copy tweet text", 1300);
  }catch(e){
    copyTweetBtn.textContent = "Copy failed";
    setTimeout(()=> copyTweetBtn.textContent = "Copy tweet text", 1300);
  }
});

shareXBtn.addEventListener('click', ()=>{
  const txt = getTweetText();
  const url = location.href; // you can replace with canonical site link
  const intent = `https://twitter.com/intent/tweet?text=${encodeURIComponent(txt)}&url=${encodeURIComponent(url)}`;
  window.open(intent, '_blank', 'noopener,noreferrer');
});

/* export via html2canvas */
exportBtn.addEventListener('click', ()=> {
  // make sure card visible
  if(getComputedStyle(cardEl).opacity === "0"){
    alert("Reveal your ritual first.");
    return;
  }
  // temporarily enlarge for better capture (not required)
  const scale = 2;
  const origW = cardEl.style.width;
  cardEl.style.transform = "scale(1.0)";

  html2canvas(cardEl, {scale:2, backgroundColor: null, useCORS:true}).then(canvas=>{
    // open in new tab for user to save
    const data = canvas.toDataURL("image/png");
    const w = window.open("");
    if(!w) { alert("Popup blocked ‚Äî download blocked. Try right-clicking the card to save instead."); return; }
    const imgHTML = `<img src="${data}" style="max-width:100%"><p style="color:#ccc;font-family:system-ui;font-size:13px">Right-click ‚Üí Save image as...</p>`;
    w.document.write(imgHTML);
    w.document.title = "Ritual Card ‚Äî Save";
  }).catch(err=>{
    alert("Export failed ‚Äî try a screenshot. Error: "+err);
  }).finally(()=>{
    // restore
    cardEl.style.width = origW;
  });
});

/* optional: reveal a default (scorpio) on load for effect */
window.addEventListener('load', ()=>{
  // slight delay so page paints
  setTimeout(()=> {
    document.querySelector('.sign-btn[data-key="scorpio"]').classList.add('active');
    manualSelect.value = 'scorpio';
    currentKey = 'scorpio';
    showCard('scorpio');
  }, 520);
});

</script>
</body>
</html>
